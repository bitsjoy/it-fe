{"ast":null,"code":"var _jsxFileName = \"/Users/neeleshsharma/Desktop/bitsjoy/it-fe-/src/pages/noteMaker/index.js\",\n    _s = $RefreshSig$();\n\nimport { Col, Row, Collapse, Button, Input, Modal } from 'antd';\nimport axios from 'axios';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Viewer from './viewer';\nimport { Editor } from '@tinymce/tinymce-react';\nimport ButtonPrimary from '../../components/Button';\nimport { DeleteOutlined, EditOutlined, LoadingOutlined, PlusCircleOutlined, ShareAltOutlined, StepBackwardOutlined, SyncOutlined } from '@ant-design/icons';\nimport { API_BASE } from '../../apiConfig';\nimport { bearer_token_key } from './../../localStorageConfig';\nimport { toast, ToastContainer } from 'react-toastify';\nimport { noteMaker } from '../../assets';\nimport { btnBackgroundColor } from '../../uiConfig';\nimport Fee from './fee';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function NoteMaker() {\n  _s();\n\n  let noteHTMLCharacterLimit = 1000000;\n  const [currentBookEditable, setCurrentBookEditable] = useState(true);\n  const [sharing, setSharing] = useState(false);\n  const [share, setShare] = useState(false);\n  const [shareWithEmail, setShareWithEmail] = useState(\"\");\n  const [currentNoteId, setCurrentNoteId] = useState(null);\n  const [currentNoteTitle, setCurrentNoteTitle] = useState(null);\n  const [currentBook, setCurrentBook] = useState(null);\n  const [currentNoteBody, setCurrentNoteBody] = useState(\"<p>No content, edit note to add content</p>\");\n  const [edit, setEdit] = useState(false);\n  const [notes, setNotes] = useState(null);\n  const [newNoteWindow, setNewNoteWindow] = useState(false);\n  const [loadingNoteBody, setLoadingNoteBody] = useState(false);\n  const [savingNoteProcess, setSavingNoteProcess] = useState(false);\n  const [updatingNoteProcess, setUpdatingNoteProcess] = useState(false);\n  const [deleteNoteProcess, setDeleteNoteProcess] = useState(false);\n  const [editorLoaded, setEditorLoaded] = useState(false);\n  const [userHasAccess, setUserHasAccess] = useState(null);\n  const editorRef = useRef(null);\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = \"https://checkout.razorpay.com/v1/payment-button.js\";\n    script.async = true;\n    script.setAttribute('data-payment_button_id', \"pl_JxBuBqoSa0PGbf\");\n    if (document.getElementById('rz_form')) document.getElementById('rz_form').appendChild(script);\n    return () => {};\n  }, [userHasAccess]);\n  useEffect(() => {\n    alert(\"getuserowned\");\n    axios.post(API_BASE + '/api/user/getUserOwnedProducts', {\n      email: localStorage.getItem('bitsjoy_email') // paymentId: \"pay_JxGlP9laUhy2wW\",\n      // product: \"Notes\"\n\n    }, {\n      headers: {\n        'Authorization': localStorage.getItem(bearer_token_key),\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      console.log(res);\n\n      if (res.data.ownedProducts.includes(\"Notes\")) {\n        setUserHasAccess(true); // window.location.reload();\n      } else {\n        setUserHasAccess(false);\n      }\n    }).catch(err => {\n      toast.error(err.response.data.message);\n    });\n  }, []);\n  useEffect(() => {\n    //alert(\"1\");\n    if (notes == null) {\n      axios.post(API_BASE + '/api/user/getUserNotes', {\n        email: localStorage.getItem('bitsjoy_email')\n      }, {\n        headers: {\n          'Authorization': localStorage.getItem(bearer_token_key),\n          'Content-Type': 'application/json'\n        }\n      }).then(res => {\n        setNotes(Object.keys(res.data.notes).sort().reduce((accumulator, key) => {\n          accumulator[key] = res.data.notes[key];\n          return accumulator;\n        }, {}));\n        console.log(res.data);\n      }).catch(err => {\n        toast.error(err.message);\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (currentNoteId != null && currentNoteId != \"\") {\n      setLoadingNoteBody(true);\n      console.log(currentNoteId);\n      axios.post(API_BASE + '/api/notes/getNote', {\n        noteId: currentNoteId,\n        idOfAccessor: localStorage.getItem('bitsjoy_userId')\n      }, {\n        headers: {\n          'Authorization': localStorage.getItem(bearer_token_key),\n          'Content-Type': 'application/json'\n        }\n      }).then(res => {\n        console.log(res.data);\n        setCurrentNoteBody(res.data.body);\n        setLoadingNoteBody(false); //  alert(res.data.body);\n      }).catch(err => {\n        toast.error(err.response.data.message);\n        setLoadingNoteBody(false);\n      });\n    }\n  }, [currentNoteId]);\n\n  const closeViewer = () => {\n    setCurrentNoteId(null);\n  };\n\n  const saveNote = () => {\n    alert(\"getuserowned\"); // console.log(editorRef.current.getContent().length);\n\n    if (editorRef.current.getContent().length > noteHTMLCharacterLimit) {\n      toast.error(\"Reduce content of the file\");\n      document.getElementById('word_limit_reached').style.display = 'block';\n    } else {\n      if (currentBook == null || currentNoteTitle == null) {\n        toast.error(\"collection-name and note-title are empty\");\n      } else {\n        console.log(editorRef.current.getContent());\n        setSavingNoteProcess(true);\n        const date = new Date();\n\n        if (editorRef.current) {\n          console.log(editorRef.current.getContent());\n          axios.post(API_BASE + '/api/notes/createNote', {\n            \"dateUpdated\": date,\n            \"dateCreated\": date,\n            \"title\": currentNoteTitle,\n            \"body\": editorRef.current.getContent() == \"\" ? \"<i>No content, edit note to add content</i>\" : editorRef.current.getContent(),\n            \"author\": {\n              id: localStorage.getItem('bitsjoy_userId'),\n              fullName: localStorage.getItem('bitsjoy_name'),\n              ppImageLink: localStorage.getItem('bitsjoy_ppImageLink')\n            },\n            \"accessibleTo\": [localStorage.getItem('bitsjoy_userId')],\n            \"bookTitle\": currentBook\n          }, {\n            headers: {\n              'Authorization': localStorage.getItem(bearer_token_key),\n              'Content-Type': 'application/json'\n            }\n          }).then(res => {\n            console.log(res);\n            toast.success('Collection updated'); // window.location.reload(); // also resets the state variables\n\n            setSavingNoteProcess(false);\n          }).catch(err => {\n            toast.error(err.response.data.message);\n            setSavingNoteProcess(false);\n          });\n        }\n      }\n    }\n  };\n\n  const updateNote = () => {\n    console.log(editorRef.current.getContent().length);\n\n    if (editorRef.current.getContent().length > noteHTMLCharacterLimit) {\n      toast.error(\"Reduce content of the file\");\n      document.getElementById('word_limit_reached').style.display = 'block';\n    } else {\n      if (currentBook == null || currentNoteTitle == null) {\n        alert(\"Note-title is empty\");\n      } else {\n        setUpdatingNoteProcess(true);\n        const date = new Date();\n\n        if (editorRef.current) {\n          console.log(editorRef.current.getContent());\n          axios.put(API_BASE + '/api/notes/updateNote', {\n            \"dateUpdated\": date,\n            \"title\": currentNoteTitle,\n            \"noteBody\": editorRef.current.getContent() == \"\" ? \"<i>No content, edit note to add content</i>\" : editorRef.current.getContent(),\n            \"authorId\": localStorage.getItem('bitsjoy_userId'),\n            \"accessibleTo\": [localStorage.getItem('bitsjoy_userId')],\n            \"bookTitle\": currentBook,\n            \"noteId\": currentNoteId\n          }, {\n            headers: {\n              'Authorization': localStorage.getItem(bearer_token_key),\n              'Content-Type': 'application/json'\n            }\n          }).then(res => {\n            console.log(res);\n            toast.success(\"Note updated\");\n            setUpdatingNoteProcess(false);\n          }).catch(err => {\n            toast.error(err.data.response.message);\n            setUpdatingNoteProcess(false);\n          });\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          id: \"word_limit_reached\",\n          style: {\n            display: 'none',\n            backgroundColor: '#FF9494',\n            color: 'white'\n          },\n          children: \"Word limit reached\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 6\n    }, this), userHasAccess === true ? /*#__PURE__*/_jsxDEV(Row, {\n      id: \"lp\",\n      align: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: {\n          span: 24\n        },\n        md: {\n          span: 18\n        },\n        children: [edit && /*#__PURE__*/_jsxDEV(\"div\", {\n          align: \"left\",\n          children: [currentBookEditable && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\" Collection Name: \", /*#__PURE__*/_jsxDEV(Input, {\n              id: \"collectionName\",\n              type: \"text\",\n              value: currentBook,\n              onChange: e => {\n                let val = e.target.value.toString().toLowerCase().replace(/\\b(\\w)/g, x => x.toUpperCase());\n                setCurrentBook(val.trim() == \"\" ? null : val);\n              },\n              style: {\n                fontWeight: '700',\n                textTransform: 'capitalize'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 61\n            }, this), \"    \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 82\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true), !currentBookEditable && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              borderBottom: `1px solid ${btnBackgroundColor}`\n            },\n            children: [\" \", currentBook, \"    \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 123\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 41\n          }, this), \"Note Title:\", /*#__PURE__*/_jsxDEV(Input, {\n            required: true,\n            type: \"text\",\n            value: currentNoteTitle,\n            onChange: e => {\n              setCurrentNoteTitle(e.target.value.trim() == \"\" ? null : e.target.value);\n            },\n            style: {\n              fontWeight: '700'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ShareAltOutlined, {\n            onClick: () => {\n              setShare(true);\n            },\n            style: {\n              fontSize: '22px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }, this), !editorLoaded && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(SyncOutlined, {\n              spin: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 38\n            }, this), \"\\xA0 \\xA0 Loading editor ...\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 91\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 96\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(Editor, {\n            onInit: (evt, editor) => editorRef.current = editor,\n            initialValue: currentNoteBody,\n            onChange: e => {\n              console.log(noteHTMLCharacterLimit);\n\n              if (editorRef.current.getContent().length > noteHTMLCharacterLimit) {\n                document.getElementById('word_limit_reached').style.display = 'block';\n              } else {\n                document.getElementById('word_limit_reached').style.display = 'none';\n              }\n            },\n            onLoadContent: () => {\n              // alert(\"FAFAFAF\");\n              setEditorLoaded(true);\n            },\n            init: {\n              init_instance_callback: function (editor) {\n                document.querySelector('.tox-statusbar__wordcount').click();\n              },\n              selector: 'textarea#full-featured',\n              plugins: 'print preview powerpaste casechange importcss tinydrive searchreplace autolink autosave save directionality advcode visualblocks visualchars fullscreen image link media mediaembed template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists checklist wordcount tinymcespellchecker a11ychecker imagetools textpattern noneditable help formatpainter permanentpen pageembed charmap tinycomments mentions quickbars linkchecker emoticons advtable export',\n              tinydrive_max_image_dimension: 100,\n              mobile: {\n                plugins: 'print preview powerpaste casechange importcss tinydrive searchreplace autolink autosave save directionality advcode visualblocks visualchars fullscreen image link media mediaembed template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists checklist wordcount tinymcespellchecker a11ychecker textpattern noneditable help formatpainter pageembed charmap mentions quickbars linkchecker emoticons advtable'\n              },\n              menu: {\n                tc: {\n                  title: 'Comments',\n                  items: 'addcomment showcomments deleteallconversations'\n                }\n              },\n              menubar: false,\n              toolbar: 'undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange permanentpen formatpainter removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media pageembed template link anchor codesample | a11ycheck ltr rtl | showcomments addcomment',\n              autosave_ask_before_unload: true,\n              autosave_restore_when_empty: false,\n              autosave_retention: '2m',\n              image_advtab: false,\n              importcss_append: true,\n              templates: [{\n                title: 'New Table',\n                description: 'creates a new table',\n                content: '<div class=\"mceTmpl\"><table width=\"98%%\"  border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><th scope=\"col\"> </th><th scope=\"col\"> </th></tr><tr><td> </td><td> </td></tr></table></div>'\n              }, {\n                title: 'Starting my story',\n                description: 'A cure for writers block',\n                content: 'Once upon a time...'\n              }, {\n                title: 'New list with dates',\n                description: 'New List with dates',\n                content: '<div class=\"mceTmpl\"><span class=\"cdate\">cdate</span><br /><span class=\"mdate\">mdate</span><h2>My List</h2><ul><li></li><li></li></ul></div>'\n              }],\n              height: 500,\n              template_cdate_format: '[Date Created (CDATE): %m/%d/%Y : %H:%M:%S]',\n              template_mdate_format: '[Date Modified (MDATE): %m/%d/%Y : %H:%M:%S]',\n              image_caption: true,\n              quickbars_selection_toolbar: 'bold italic | quicklink h2 h3 blockquote quickimage quicktable',\n              noneditable_noneditable_class: 'mceNonEditable',\n              toolbar_mode: 'sliding',\n              spellchecker_ignore_list: ['Ephox', 'Moxiecode'],\n              tinycomments_mode: 'embedded',\n              content_style: 'body {font-weight: 300; font-size:14px;}',\n              contextmenu: 'link image imagetools table configurepermanentpen',\n              a11y_advanced_options: true,\n\n              /*\n              The following settings require more configuration than shown here.\n              For information on configuring the mentions plugin, see:\n              https://www.tiny.cloud/docs/plugins/premium/mentions/.\n              */\n              mentions_item_type: 'profile'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 25\n        }, this), newNoteWindow && /*#__PURE__*/_jsxDEV(\"div\", {\n          align: \"left\",\n          children: [currentBookEditable && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\" Collection Name: \", /*#__PURE__*/_jsxDEV(Input, {\n              id: \"collectionName\",\n              type: \"text\",\n              value: currentBook,\n              onChange: e => {\n                let val = e.target.value.toString().toLowerCase().replace(/\\b(\\w)/g, x => x.toUpperCase());\n                setCurrentBook(val.trim() == \"\" ? null : val);\n              },\n              style: {\n                fontWeight: '700',\n                textTransform: 'capitalize'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 61\n            }, this), \"    \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 83\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), !currentBookEditable && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              borderBottom: `1px solid ${btnBackgroundColor}`\n            },\n            children: [\" Adding note to \", currentBook, \"    \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 139\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 42\n          }, this), \"Note Title : \", /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            value: currentNoteTitle,\n            onChange: e => {\n              let val = e.target.value.toString().toLowerCase().replace(/\\b(\\w)/g, x => x.toUpperCase());\n              setCurrentNoteTitle(val.trim() == \"\" ? null : val);\n            },\n            style: {\n              fontWeight: '700',\n              textTransform: 'capitalize'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 17\n          }, this), !editorLoaded && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(SyncOutlined, {\n              spin: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 38\n            }, this), \"\\xA0 \\xA0 Loading editor ...\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 91\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 96\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(Editor, {\n            onInit: (evt, editor) => editorRef.current = editor,\n            initialValue: currentNoteBody,\n            onChange: e => {\n              console.log(noteHTMLCharacterLimit);\n\n              if (editorRef.current.getContent().length > noteHTMLCharacterLimit) {\n                document.getElementById('word_limit_reached').style.display = 'block';\n              } else {\n                document.getElementById('word_limit_reached').style.display = 'none';\n              }\n            },\n            onLoadContent: () => {\n              // alert(\"FAFAFAF\");\n              setEditorLoaded(true);\n            },\n            init: {\n              init_instance_callback: function (editor) {\n                document.querySelector('.tox-statusbar__wordcount').click();\n              },\n              selector: 'textarea#full-featured',\n              plugins: 'print preview powerpaste casechange importcss tinydrive searchreplace autolink autosave save directionality advcode visualblocks visualchars fullscreen image link media mediaembed template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists checklist wordcount tinymcespellchecker a11ychecker imagetools textpattern noneditable help formatpainter permanentpen pageembed charmap tinycomments mentions quickbars linkchecker emoticons advtable export',\n              tinydrive_token_provider: 'URL_TO_YOUR_TOKEN_PROVIDER',\n              tinydrive_dropbox_app_key: 'YOUR_DROPBOX_APP_KEY',\n              tinydrive_google_drive_key: 'YOUR_GOOGLE_DRIVE_KEY',\n              tinydrive_google_drive_client_id: 'YOUR_GOOGLE_DRIVE_CLIENT_ID',\n              tinydrive_max_image_dimension: 100,\n              mobile: {\n                plugins: 'print preview powerpaste casechange importcss tinydrive searchreplace autolink autosave save directionality advcode visualblocks visualchars fullscreen image link media mediaembed template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists checklist wordcount tinymcespellchecker a11ychecker textpattern noneditable help formatpainter pageembed charmap mentions quickbars linkchecker emoticons advtable'\n              },\n              menu: {\n                tc: {\n                  title: 'Comments',\n                  items: 'addcomment showcomments deleteallconversations'\n                }\n              },\n              height: 500,\n              menubar: false,\n              toolbar: 'undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange permanentpen formatpainter removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media pageembed template link anchor codesample | a11ycheck ltr rtl | showcomments addcomment',\n              autosave_ask_before_unload: true,\n              autosave_restore_when_empty: false,\n              autosave_retention: '2m',\n              image_advtab: true,\n              importcss_append: true,\n              templates: [{\n                title: 'New Table',\n                description: 'creates a new table',\n                content: '<div class=\"mceTmpl\"><table width=\"98%%\"  border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><th scope=\"col\"> </th><th scope=\"col\"> </th></tr><tr><td> </td><td> </td></tr></table></div>'\n              }, {\n                title: 'Starting my story',\n                description: 'A cure for writers block',\n                content: 'Once upon a time...'\n              }, {\n                title: 'New list with dates',\n                description: 'New List with dates',\n                content: '<div class=\"mceTmpl\"><span class=\"cdate\">cdate</span><br /><span class=\"mdate\">mdate</span><h2>My List</h2><ul><li></li><li></li></ul></div>'\n              }],\n              template_cdate_format: '[Date Created (CDATE): %m/%d/%Y : %H:%M:%S]',\n              template_mdate_format: '[Date Modified (MDATE): %m/%d/%Y : %H:%M:%S]',\n              image_caption: true,\n              quickbars_selection_toolbar: 'bold italic | quicklink h2 h3 blockquote quickimage quicktable',\n              noneditable_noneditable_class: 'mceNonEditable',\n              toolbar_mode: 'sliding',\n              spellchecker_ignore_list: ['Ephox', 'Moxiecode'],\n              tinycomments_mode: 'embedded',\n              content_style: 'body {font-weight: 300; font-size:14px;}',\n              contextmenu: 'link image imagetools table configurepermanentpen',\n              a11y_advanced_options: true,\n\n              /*\n              The following settings require more configuration than shown here.\n              For information on configuring the mentions plugin, see:\n              https://www.tiny.cloud/docs/plugins/premium/mentions/.\n              */\n              mentions_item_type: 'profile'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 34\n        }, this), !edit && currentNoteId && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Viewer, {\n            close: closeViewer,\n            loading: loadingNoteBody,\n            rawHtmlBody: currentNoteBody,\n            noteId: currentNoteId,\n            title: currentNoteTitle,\n            bookTitle: currentBook\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 45\n          }, this)\n        }, void 0, false), !currentNoteId && currentNoteId != \"\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          align: \"center\",\n          style: {\n            paddingTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"notes-hero\",\n            src: noteMaker,\n            style: {\n              width: '40%',\n              border: '0px solid black'\n            },\n            alt: \"noteMaker\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 107\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n            styl: {\n              fontSize: '15px'\n            },\n            id: \"new-collection\",\n            text: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(PlusCircleOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 91\n              }, this), \" New collection \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 84\n            }, this),\n            onClick: e => {\n              document.getElementById(\"new-collection\").style.transform = 'translate(1000px, 0px)';\n              document.getElementById(\"notes-hero\").style.transform = 'translate(0px, -1000px)';\n              setTimeout(() => {\n                setCurrentBook(null);\n                setNewNoteWindow(true);\n                setCurrentNoteId(\"\");\n                setCurrentNoteTitle('Sample note title');\n                setCurrentNoteBody(\"<p>This is the first note of this collection, you can delete it later\");\n              }, 500);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 58\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        style: {\n          overflowY: 'auto',\n          height: '75vh'\n        },\n        xs: {\n          span: 0\n        },\n        md: {\n          span: 6\n        },\n        align: \"center\",\n        children: [!edit && !newNoteWindow && /*#__PURE__*/_jsxDEV(\"div\", {\n          align: \"left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: btnBackgroundColor\n            },\n            align: \"left\",\n            children: Object.keys(notes ? notes : {}).length !== 0 ? \"Collections\" : \"Collections will be shown here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 55\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n            style: {\n              fontWeight: '700',\n              width: 'auto',\n              border: '0px',\n              display: 'inline'\n            },\n            defaultActiveKey: ['0'],\n            onChange: () => {},\n            align: \"left\",\n            children: notes ? Object.keys(notes).length !== 0 ? Object.keys(notes).map((Key, i) => {\n              return notes[Key].find(x => x.deleted !== true) ? /*#__PURE__*/_jsxDEV(Collapse.Panel, {\n                style: {\n                  border: `0px solid silver`,\n                  borderBottom: '0px'\n                },\n                header: Key,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  align: \"left\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    type: \"link\",\n                    style: {\n                      border: `0px solid ${btnBackgroundColor}`,\n                      color: 'black'\n                    },\n                    onClick: () => {\n                      setNewNoteWindow(true);\n                      setCurrentNoteId(\"\");\n                      setCurrentBook(Key);\n                      setCurrentNoteTitle('type here');\n                      setCurrentBookEditable(false);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        onMouseOver: () => {// document.getElementById('addMoreNotes').style.display = 'inline';\n                        },\n                        onMouseOut: () => {// document.getElementById('addMoreNotes').style.display = 'none';\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(PlusCircleOutlined, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 488,\n                          columnNumber: 10\n                        }, this), \" Add more\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 482,\n                        columnNumber: 13\n                      }, this), \" \\xA0 \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 481,\n                      columnNumber: 245\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 481,\n                    columnNumber: 9\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 1\n                  }, this), notes[Key].map(note => {\n                    return /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        align: \"left\",\n                        title: note.noteTitle,\n                        style: {\n                          maxWidth: '70%',\n                          color: btnBackgroundColor,\n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis'\n                        },\n                        onClick: () => {\n                          // fetch note and set the variables in state with the returned data\n                          console.log(Key.toString(), note.noteId, note.noteTitle);\n                          setCurrentBook(Key.toString());\n                          setCurrentNoteTitle(note.noteTitle);\n                          setCurrentNoteId(note.noteId);\n                        },\n                        type: \"link\",\n                        children: note.noteTitle\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 493,\n                        columnNumber: 33\n                      }, this), \"\\xA0\", currentNoteId === note.noteId && /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(EditOutlined, {\n                          title: \"edit\",\n                          onClick: () => {\n                            // setCurrentBook(Key.toString()); setCurrentNoteTitle(note.noteTitle); setCurrentNoteId(note.noteId); setCurrentNoteBody(\"lolpoo\");\n                            setEdit(true);\n                            setCurrentBookEditable(false);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 502,\n                          columnNumber: 72\n                        }, this), \"\\xA0 \\xA0\", /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n                          title: \"delete\",\n                          style: {\n                            fontSize: ''\n                          },\n                          onClick: () => {\n                            setDeleteNoteProcess(true);\n\n                            if (window.confirm(\"Are you sure you want to delete this note?\")) {\n                              axios.put(API_BASE + '/api/notes/deleteNote', {\n                                \"authorId\": localStorage.getItem('bitsjoy_userId'),\n                                \"bookTitle\": currentBook,\n                                \"noteId\": currentNoteId\n                              }, {\n                                headers: {\n                                  'Authorization': localStorage.getItem(bearer_token_key),\n                                  'Content-Type': 'application/json'\n                                }\n                              }).then(res => {\n                                console.log(res);\n                                setDeleteNoteProcess(false);\n                                window.location.reload(); // setUpdatingNoteProcess(false);\n                              }).catch(err => {\n                                toast.error(err.message); // setUpdatingNoteProcess(false);\n\n                                setDeleteNoteProcess(false);\n                              });\n                            }\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 510,\n                          columnNumber: 37\n                        }, this), \" \", deleteNoteProcess ? /*#__PURE__*/_jsxDEV(SyncOutlined, {\n                          spin: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 536,\n                          columnNumber: 37\n                        }, this) : null]\n                      }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 540,\n                        columnNumber: 34\n                      }, this)]\n                    }, void 0, true);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 25\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 71\n              }, this) : null;\n            }) : \"\" : /*#__PURE__*/_jsxDEV(SyncOutlined, {\n              spin: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 37\n        }, this), edit && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n            disabledCondition: currentBook == null || currentNoteTitle == null,\n            styl: {\n              width: '70%'\n            },\n            onClick: updateNote,\n            text: updatingNoteProcess ? 'loading' : 'Update'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"link\",\n            onClick: () => {\n              window.scrollTo(0, 0);\n              window.location.reload();\n            },\n            style: {\n              color: btnBackgroundColor\n            },\n            children: [/*#__PURE__*/_jsxDEV(StepBackwardOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 40\n            }, this), \" Back to library\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true), newNoteWindow && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n            disabledCondition: currentBook == null || currentNoteTitle == null,\n            styl: {\n              width: '70%'\n            },\n            onClick: saveNote,\n            text: savingNoteProcess ? 'loading' : 'Save'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"link\",\n            onClick: () => {\n              window.scrollTo(0, 0);\n              window.location.reload();\n            },\n            style: {\n              color: btnBackgroundColor\n            },\n            children: [/*#__PURE__*/_jsxDEV(StepBackwardOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 40\n            }, this), \" Back to library\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 1\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        style: {\n          overflowY: 'auto',\n          height: '75vh'\n        },\n        xs: {\n          span: 24\n        },\n        md: {\n          span: 0\n        },\n        align: \"left\",\n        children: !edit && !newNoteWindow && /*#__PURE__*/_jsxDEV(\"div\", {\n          align: \"left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: btnBackgroundColor\n            },\n            align: \"left\",\n            children: Object.keys(notes ? notes : {}).length !== 0 ? \"Collections\" : \"Collections will be shown here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 55\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n            style: {\n              fontWeight: '700',\n              width: 'auto',\n              border: '0px',\n              display: 'inline'\n            },\n            defaultActiveKey: ['0'],\n            onChange: () => {},\n            align: \"left\",\n            children: notes ? Object.keys(notes).length !== 0 ? Object.keys(notes).map((Key, i) => {\n              return notes[Key].find(x => x.deleted !== true) ? /*#__PURE__*/_jsxDEV(Collapse.Panel, {\n                style: {\n                  border: `0px solid silver`,\n                  borderBottom: '0px'\n                },\n                header: Key,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  align: \"left\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    type: \"link\",\n                    style: {\n                      border: `0px solid ${btnBackgroundColor}`,\n                      color: 'black'\n                    },\n                    onClick: () => {\n                      setNewNoteWindow(true);\n                      setCurrentNoteId(\"\");\n                      setCurrentBook(Key);\n                      setCurrentNoteTitle('type here');\n                      setCurrentBookEditable(false);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        onMouseOver: () => {// document.getElementById('addMoreNotes').style.display = 'inline';\n                        },\n                        onMouseOut: () => {// document.getElementById('addMoreNotes').style.display = 'none';\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(PlusCircleOutlined, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 603,\n                          columnNumber: 10\n                        }, this), \" Add more\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 597,\n                        columnNumber: 13\n                      }, this), \" \\xA0 \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 596,\n                      columnNumber: 245\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 596,\n                    columnNumber: 9\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 1\n                  }, this), notes[Key].map(note => {\n                    return /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        align: \"left\",\n                        title: note.noteTitle,\n                        style: {\n                          maxWidth: '70%',\n                          color: btnBackgroundColor,\n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis'\n                        },\n                        onClick: () => {\n                          // fetch note and set the variables in state with the returned data\n                          console.log(Key.toString(), note.noteId, note.noteTitle);\n                          setCurrentBook(Key.toString());\n                          setCurrentNoteTitle(note.noteTitle);\n                          setCurrentNoteId(note.noteId);\n                        },\n                        type: \"link\",\n                        children: note.noteTitle\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 608,\n                        columnNumber: 33\n                      }, this), \"\\xA0\", currentNoteId === note.noteId && /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(EditOutlined, {\n                          title: \"edit\",\n                          onClick: () => {\n                            // setCurrentBook(Key.toString()); setCurrentNoteTitle(note.noteTitle); setCurrentNoteId(note.noteId); setCurrentNoteBody(\"lolpoo\");\n                            setEdit(true);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 617,\n                          columnNumber: 72\n                        }, this), \"\\xA0 \\xA0\", /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n                          title: \"delete\",\n                          style: {\n                            fontSize: ''\n                          },\n                          onClick: () => {\n                            setDeleteNoteProcess(true);\n\n                            if (window.confirm(\"Are you sure you want to delete this note?\")) {\n                              axios.put(API_BASE + '/api/notes/deleteNote', {\n                                \"authorId\": localStorage.getItem('bitsjoy_userId'),\n                                \"bookTitle\": currentBook,\n                                \"noteId\": currentNoteId\n                              }, {\n                                headers: {\n                                  'Authorization': localStorage.getItem(bearer_token_key),\n                                  'Content-Type': 'application/json'\n                                }\n                              }).then(res => {\n                                console.log(res);\n                                setDeleteNoteProcess(false);\n                                window.location.reload(); // setUpdatingNoteProcess(false);\n                              }).catch(err => {\n                                toast.error(err.message); // setUpdatingNoteProcess(false);\n\n                                setDeleteNoteProcess(false);\n                              });\n                            }\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 624,\n                          columnNumber: 37\n                        }, this), \" \", deleteNoteProcess ? /*#__PURE__*/_jsxDEV(SyncOutlined, {\n                          spin: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 650,\n                          columnNumber: 37\n                        }, this) : null]\n                      }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 654,\n                        columnNumber: 34\n                      }, this)]\n                    }, void 0, true);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 25\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 71\n              }, this) : null;\n            }) : \"\" : /*#__PURE__*/_jsxDEV(SyncOutlined, {\n              spin: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          xs: {\n            span: 24\n          },\n          md: {\n            span: 0\n          },\n          align: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'fixed',\n              bottom: '10px',\n              right: '20px'\n            },\n            children: [edit && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                styl: {\n                  width: '100%'\n                },\n                onClick: updateNote,\n                text: updatingNoteProcess ? 'loading' : 'Update'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 19\n              }, this)\n            }, void 0, false), newNoteWindow && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                style: {\n                  display: 'inline'\n                },\n                styl: {\n                  width: '100%'\n                },\n                onClick: saveNote,\n                text: savingNoteProcess ? 'loading' : 'Save'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 9\n              }, this)\n            }, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'fixed',\n              bottom: '10px',\n              left: '20px'\n            },\n            children: [edit && /*#__PURE__*/_jsxDEV(Button, {\n              type: \"link\",\n              onClick: () => {\n                window.scrollTo(0, 0);\n                window.location.reload();\n              },\n              style: {\n                color: btnBackgroundColor\n              },\n              children: [/*#__PURE__*/_jsxDEV(StepBackwardOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 40\n              }, this), \" Close\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 12\n            }, this), newNoteWindow && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"link\",\n                onClick: () => {\n                  window.scrollTo(0, 0);\n                  window.location.reload();\n                },\n                style: {\n                  color: btnBackgroundColor,\n                  padding: '0px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(StepBackwardOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 713,\n                  columnNumber: 56\n                }, this), \" Close\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 9\n              }, this)\n            }, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this) : userHasAccess === false ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Fee, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        width: '100%',\n        position: 'relative',\n        top: '37vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(SyncOutlined, {\n        spin: true,\n        style: {\n          fontSize: '25px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 81\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 726,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Share with\",\n      visible: share,\n      onOk: () => {},\n      onCancel: () => {\n        setShare(false);\n      },\n      footer: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          setShare(false);\n        },\n        children: \"Cancel\"\n      }, \"back\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 732,\n        columnNumber: 3\n      }, this)],\n      children: [\"Enter Email :\", /*#__PURE__*/_jsxDEV(Input, {\n        value: shareWithEmail,\n        onChange: e => {\n          setShareWithEmail(e.target.value);\n        },\n        id: \"shareWithEmail\",\n        type: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 739,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n        text: sharing ? /*#__PURE__*/_jsxDEV(SyncOutlined, {\n          spin: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 39\n        }, this) : 'Share',\n        onClick: () => {\n          let k = document.getElementById('shareWithEmail').value;\n\n          if (k.includes('@') && k.includes('.') && !k.trim().includes(' ')) {\n            setSharing(true); // let currentShareWith = shareWith;\n            // if(!currentShareWith.includes(k)){ \n\n            setShareWithEmail(\"\");\n            axios.put(API_BASE + '/api/notes/updateNoteAccessibleTo', {\n              noteId: currentNoteId,\n              authorId: localStorage.getItem('bitsjoy_userId'),\n              list: [k]\n            }, {\n              headers: {\n                'Authorization': localStorage.getItem(bearer_token_key),\n                'Content-Type': 'application/json'\n              }\n            }).then(res => {\n              console.log(res.data);\n              setShare(false);\n              toast.success('Shared successfully');\n              setSharing(false); //  alert(res.data.body);\n            }).catch(err => {\n              toast.error(err.response.data.message);\n              setSharing(false);\n            }); // }\n          } else {\n            toast.error('Please provide a valid email');\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 729,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true);\n}\n\n_s(NoteMaker, \"6wNhlP3mPNNMpJIMz37oquEpqBw=\");\n\n_c = NoteMaker;\n\nvar _c;\n\n$RefreshReg$(_c, \"NoteMaker\");","map":{"version":3,"names":["Col","Row","Collapse","Button","Input","Modal","axios","React","useEffect","useRef","useState","Viewer","Editor","ButtonPrimary","DeleteOutlined","EditOutlined","LoadingOutlined","PlusCircleOutlined","ShareAltOutlined","StepBackwardOutlined","SyncOutlined","API_BASE","bearer_token_key","toast","ToastContainer","noteMaker","btnBackgroundColor","Fee","NoteMaker","noteHTMLCharacterLimit","currentBookEditable","setCurrentBookEditable","sharing","setSharing","share","setShare","shareWithEmail","setShareWithEmail","currentNoteId","setCurrentNoteId","currentNoteTitle","setCurrentNoteTitle","currentBook","setCurrentBook","currentNoteBody","setCurrentNoteBody","edit","setEdit","notes","setNotes","newNoteWindow","setNewNoteWindow","loadingNoteBody","setLoadingNoteBody","savingNoteProcess","setSavingNoteProcess","updatingNoteProcess","setUpdatingNoteProcess","deleteNoteProcess","setDeleteNoteProcess","editorLoaded","setEditorLoaded","userHasAccess","setUserHasAccess","editorRef","script","document","createElement","src","async","setAttribute","getElementById","appendChild","alert","post","email","localStorage","getItem","headers","then","res","console","log","data","ownedProducts","includes","catch","err","error","response","message","Object","keys","sort","reduce","accumulator","key","noteId","idOfAccessor","body","closeViewer","saveNote","current","getContent","length","style","display","date","Date","id","fullName","ppImageLink","success","updateNote","put","backgroundColor","color","span","e","val","target","value","toString","toLowerCase","replace","x","toUpperCase","trim","fontWeight","textTransform","borderBottom","fontSize","evt","editor","init_instance_callback","querySelector","click","selector","plugins","tinydrive_max_image_dimension","mobile","menu","tc","title","items","menubar","toolbar","autosave_ask_before_unload","autosave_restore_when_empty","autosave_retention","image_advtab","importcss_append","templates","description","content","height","template_cdate_format","template_mdate_format","image_caption","quickbars_selection_toolbar","noneditable_noneditable_class","toolbar_mode","spellchecker_ignore_list","tinycomments_mode","content_style","contextmenu","a11y_advanced_options","mentions_item_type","tinydrive_token_provider","tinydrive_dropbox_app_key","tinydrive_google_drive_key","tinydrive_google_drive_client_id","paddingTop","width","border","transform","setTimeout","overflowY","map","Key","i","find","deleted","note","noteTitle","maxWidth","overflow","textOverflow","window","confirm","location","reload","scrollTo","position","bottom","right","left","padding","top","k","authorId","list"],"sources":["/Users/neeleshsharma/Desktop/bitsjoy/it-fe-/src/pages/noteMaker/index.js"],"sourcesContent":["import { Col, Row, Collapse, Button, Input, Modal } from 'antd';\nimport axios from 'axios';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Viewer from './viewer';\nimport { Editor } from '@tinymce/tinymce-react';\nimport ButtonPrimary from '../../components/Button';\nimport {  DeleteOutlined, EditOutlined, LoadingOutlined, PlusCircleOutlined, ShareAltOutlined, StepBackwardOutlined, SyncOutlined } from '@ant-design/icons';\nimport { API_BASE } from '../../apiConfig';\nimport { bearer_token_key } from './../../localStorageConfig';\nimport { toast, ToastContainer } from 'react-toastify';\nimport { noteMaker } from '../../assets';\nimport { btnBackgroundColor } from '../../uiConfig';\nimport Fee from './fee';\n\n\nexport default function NoteMaker() { \n \n  let noteHTMLCharacterLimit = 1000000;\n\n  const [currentBookEditable, setCurrentBookEditable ] = useState(true);\n\n  const [ sharing, setSharing ] = useState(false);\n  const [share, setShare ] = useState(false); \n  const [shareWithEmail, setShareWithEmail ] = useState(\"\");\n \n  const [ currentNoteId, setCurrentNoteId] = useState(null);\n  const [ currentNoteTitle, setCurrentNoteTitle] = useState(null);\n  const [ currentBook, setCurrentBook] = useState(null);\n  const [ currentNoteBody, setCurrentNoteBody] = useState(\"<p>No content, edit note to add content</p>\");\n\n  const [ edit, setEdit ] = useState(false);\n  const [notes, setNotes ] = useState(null);\n  const [ newNoteWindow, setNewNoteWindow ] = useState(false);\n\n  const [ loadingNoteBody, setLoadingNoteBody ] = useState(false);\n  const [ savingNoteProcess, setSavingNoteProcess ] = useState(false);\n  const [ updatingNoteProcess, setUpdatingNoteProcess ] = useState(false);\n  const [ deleteNoteProcess, setDeleteNoteProcess ] = useState(false);\n  const [ editorLoaded, setEditorLoaded ] = useState(false);\n\n  const [ userHasAccess, setUserHasAccess ] = useState(null);\n\n  const editorRef = useRef(null);\n\n  \n\n  useEffect(() => { \n    const script = document.createElement('script');\n    \n    script.src = \"https://checkout.razorpay.com/v1/payment-button.js\";\n    script.async = true;\n    script.setAttribute('data-payment_button_id' , \"pl_JxBuBqoSa0PGbf\");\n \n\n    if(document.getElementById('rz_form')) document.getElementById('rz_form').appendChild(script); \n\n\n    return () => { \n\n    }\n  }, [userHasAccess]);\n\n  \n     \n\n  useEffect(() => {\n    alert(\"getuserowned\");\n    axios.post(API_BASE + '/api/user/getUserOwnedProducts', {\n      email: localStorage.getItem('bitsjoy_email'),\n      // paymentId: \"pay_JxGlP9laUhy2wW\",\n      // product: \"Notes\"\n  },{ \n    headers : {\n    'Authorization' : localStorage.getItem(bearer_token_key),\n    'Content-Type': 'application/json'\n}}).then(res => {\n  console.log(res);\n      if(res.data.ownedProducts.includes(\"Notes\")){\n        setUserHasAccess(true);\n // window.location.reload();\n\n      } else {\n        setUserHasAccess(false);\n      }\n}).catch((err) => {\n  toast.error(err.response.data.message);\n})\n  }, [])\n\n  useEffect(()=>{\n    //alert(\"1\");\n    if(notes == null){\n    axios.post(API_BASE + '/api/user/getUserNotes', {\n        email: localStorage.getItem('bitsjoy_email')\n    }, { \n        headers : {\n        'Authorization' : localStorage.getItem(bearer_token_key),\n        'Content-Type': 'application/json'\n    }}).then(res => {\n        \n        setNotes(Object.keys(res.data.notes)\n        .sort()\n        .reduce((accumulator, key) => {\n          accumulator[key] = res.data.notes[key];\n      \n          return accumulator;\n        }, {}));\n        console.log(res.data);\n    }).catch((err) => {\n        toast.error(err.message);\n    })\n}\n  }, [])\n\n\n  useEffect(()=>{ \n    if(currentNoteId != null && currentNoteId != \"\"){\n    setLoadingNoteBody(true);\n    console.log(currentNoteId);\n    axios.post(API_BASE + '/api/notes/getNote', {\n        noteId: currentNoteId,\n        idOfAccessor: localStorage.getItem('bitsjoy_userId')\n    },{\n        headers : {\n            'Authorization' : localStorage.getItem(bearer_token_key),\n            'Content-Type': 'application/json'\n        }\n    }).then((res)=>{\n      console.log(res.data);\n        setCurrentNoteBody(res.data.body);\n    setLoadingNoteBody(false);\n\n      //  alert(res.data.body);\n    }).catch((err)=>{\n    toast.error(err.response.data.message);\n    setLoadingNoteBody(false);\n\n    })}\n  }, [currentNoteId])\n\n  const closeViewer = () => {\n    setCurrentNoteId(null);\n  }\n\n\n  const saveNote = () => {\n    alert(\"getuserowned\");\n\n    // console.log(editorRef.current.getContent().length);\n    if(editorRef.current.getContent().length > noteHTMLCharacterLimit){\n      toast.error(\"Reduce content of the file\");\n      document.getElementById('word_limit_reached').style.display = 'block';\n\n    } else {\n\n    if(currentBook == null || currentNoteTitle == null){\n      toast.error(\"collection-name and note-title are empty\");\n    } else {\n    console.log(editorRef.current.getContent());\n    setSavingNoteProcess(true);\n    const date = new Date();\n    if (editorRef.current) {\n      console.log(editorRef.current.getContent());\n\n      axios.post(API_BASE + '/api/notes/createNote', { \n        \"dateUpdated\": date,\n        \"dateCreated\": date,\n        \"title\": currentNoteTitle,\n        \"body\": editorRef.current.getContent() == \"\" ? \"<i>No content, edit note to add content</i>\": editorRef.current.getContent(),\n        \"author\": {\n            id: localStorage.getItem('bitsjoy_userId'),\n            fullName: localStorage.getItem('bitsjoy_name'),\n            ppImageLink: localStorage.getItem('bitsjoy_ppImageLink'),\n        },\n        \"accessibleTo\": [localStorage.getItem('bitsjoy_userId')],\n        \"bookTitle\": currentBook, \n      },\n      {\n        headers : {\n            'Authorization' : localStorage.getItem(bearer_token_key),\n            'Content-Type': 'application/json'\n        }\n      }).then((res)=>{\n        console.log(res);\n        toast.success('Collection updated')\n       // window.location.reload(); // also resets the state variables\n    setSavingNoteProcess(false);\n      }).catch(err => {   \n        toast.error(err.response.data.message);\n    setSavingNoteProcess(false);\n\n      })\n    }\n  }\n}\n  };\n\n\n  const updateNote = () => {\n     console.log(editorRef.current.getContent().length);\n\n    if(editorRef.current.getContent().length > noteHTMLCharacterLimit){\n      toast.error(\"Reduce content of the file\");\n      document.getElementById('word_limit_reached').style.display = 'block';\n\n    } else {\n    if(currentBook == null || currentNoteTitle == null){\n      alert(\"Note-title is empty\");\n    } else {\n    setUpdatingNoteProcess(true);\n    const date = new Date();\n    if (editorRef.current) {\n      console.log(editorRef.current.getContent());\n\n      axios.put(API_BASE + '/api/notes/updateNote', { \n        \"dateUpdated\": date,\n        \"title\": currentNoteTitle,\n        \"noteBody\": editorRef.current.getContent() == \"\" ? \"<i>No content, edit note to add content</i>\": editorRef.current.getContent(),\n        \"authorId\": localStorage.getItem('bitsjoy_userId'),\n        \"accessibleTo\": [localStorage.getItem('bitsjoy_userId')],\n        \"bookTitle\": currentBook,\n        \"noteId\": currentNoteId\n      },\n      {\n        headers : {\n            'Authorization' : localStorage.getItem(bearer_token_key),\n            'Content-Type': 'application/json'\n        }\n      }).then((res)=>{\n        console.log(res);\n        toast.success(\"Note updated\");\n    setUpdatingNoteProcess(false);\n      }).catch(err => {  \n        toast.error(err.data.response.message);\n    setUpdatingNoteProcess(false);\n\n      })\n    }\n  }}\n  };\n \n\n  return ( \n    <>\n     <Row>\n          <Col span={24}>\n            <h3 id=\"word_limit_reached\" style={{display: 'none', backgroundColor: '#FF9494', color: 'white'}}>Word limit reached</h3>\n          </Col>\n        </Row>\n    {\n      userHasAccess === true ?  \n      <Row id=\"lp\" align=\"center\">\n       \n        <Col xs={{span: 24}} md={{span: 18}}>\n            {\n                edit && <div align=\"left\">\n                {currentBookEditable && <> Collection Name: <Input id=\"collectionName\" type=\"text\" value={currentBook} onChange={(e)=>{\n                   \n                   let val = e.target.value.toString().toLowerCase().replace(/\\b(\\w)/g, x => x.toUpperCase());\n                   setCurrentBook(val.trim() == \"\" ? null : val);\n               }} style={{fontWeight: '700', textTransform: 'capitalize'}} />    <br/>\n               <br/></> }\n             \n               {!currentBookEditable && <span style={{borderBottom: `1px solid ${btnBackgroundColor}`}}> {currentBook}    <br/>\n              <br/></span> }\n                    Note Title:\n                <Input required type=\"text\" value={currentNoteTitle} onChange={(e)=>{\n                    setCurrentNoteTitle(e.target.value.trim() == \"\" ? null : e.target.value);\n               }} style={{fontWeight: '700'}} />\n                <br/> \n                <ShareAltOutlined onClick={()=>{setShare(true)}} style={{fontSize: '22px'}} />\n                <br/> \n                <br/> \n                { !editorLoaded && <><SyncOutlined spin />&nbsp; &nbsp; Loading editor ...<br/><br/></>}\n                <Editor  \n                  onInit={(evt, editor) => editorRef.current = editor}\n                  initialValue={currentNoteBody}\n                  onChange={(e)=>{\n                    console.log(noteHTMLCharacterLimit);\n                    if(editorRef.current.getContent().length > noteHTMLCharacterLimit){\n                      document.getElementById('word_limit_reached').style.display = 'block';\n                    } else {\n                      document.getElementById('word_limit_reached').style.display = 'none';\n                    }\n                  }}\n                  onLoadContent={()=>{\n                   // alert(\"FAFAFAF\");\n                    setEditorLoaded(true);\n                  }} \n                  init={{  \n                    init_instance_callback: function (editor) {\n                      document.querySelector('.tox-statusbar__wordcount').click();\n                   },\n                    selector: 'textarea#full-featured',\n                    plugins: 'print preview powerpaste casechange importcss tinydrive searchreplace autolink autosave save directionality advcode visualblocks visualchars fullscreen image link media mediaembed template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists checklist wordcount tinymcespellchecker a11ychecker imagetools textpattern noneditable help formatpainter permanentpen pageembed charmap tinycomments mentions quickbars linkchecker emoticons advtable export',\n                  \n                    tinydrive_max_image_dimension: 100,\n                    mobile: {\n                      plugins: 'print preview powerpaste casechange importcss tinydrive searchreplace autolink autosave save directionality advcode visualblocks visualchars fullscreen image link media mediaembed template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists checklist wordcount tinymcespellchecker a11ychecker textpattern noneditable help formatpainter pageembed charmap mentions quickbars linkchecker emoticons advtable'\n                    },\n                    menu: {\n                      tc: {\n                        title: 'Comments',\n                        items: 'addcomment showcomments deleteallconversations'\n                      }\n                    }, \n                    menubar: false,\n                    toolbar: 'undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange permanentpen formatpainter removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media pageembed template link anchor codesample | a11ycheck ltr rtl | showcomments addcomment',\n                    autosave_ask_before_unload: true,  \n                    autosave_restore_when_empty: false,\n                    autosave_retention: '2m',\n                     \n                    image_advtab: false, \n                    importcss_append: true,\n                    templates: [\n                          { title: 'New Table', description: 'creates a new table', content: '<div class=\"mceTmpl\"><table width=\"98%%\"  border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><th scope=\"col\"> </th><th scope=\"col\"> </th></tr><tr><td> </td><td> </td></tr></table></div>' },\n                      { title: 'Starting my story', description: 'A cure for writers block', content: 'Once upon a time...' },\n                      { title: 'New list with dates', description: 'New List with dates', content: '<div class=\"mceTmpl\"><span class=\"cdate\">cdate</span><br /><span class=\"mdate\">mdate</span><h2>My List</h2><ul><li></li><li></li></ul></div>' }\n                    ],\n                    height: 500,\n                    template_cdate_format: '[Date Created (CDATE): %m/%d/%Y : %H:%M:%S]',\n                    template_mdate_format: '[Date Modified (MDATE): %m/%d/%Y : %H:%M:%S]', \n                    image_caption: true,\n                    quickbars_selection_toolbar: 'bold italic | quicklink h2 h3 blockquote quickimage quicktable',\n                    noneditable_noneditable_class: 'mceNonEditable',\n                    toolbar_mode: 'sliding',\n                    spellchecker_ignore_list: ['Ephox', 'Moxiecode'],\n                    tinycomments_mode: 'embedded',\n                    content_style: 'body {font-weight: 300; font-size:14px;}',\n                    contextmenu: 'link image imagetools table configurepermanentpen',\n                    a11y_advanced_options: true, \n                    /*\n                    The following settings require more configuration than shown here.\n                    For information on configuring the mentions plugin, see:\n                    https://www.tiny.cloud/docs/plugins/premium/mentions/.\n                    */ \n                    mentions_item_type: 'profile'\n                  \n                  }}\n                />  \n              </div>\n            }\n\n\n            {\n                newNoteWindow && <div align=\"left\">\n                {currentBookEditable && <> Collection Name: <Input id=\"collectionName\" type=\"text\" value={currentBook} onChange={(e)=>{\n                   \n                    let val = e.target.value.toString().toLowerCase().replace(/\\b(\\w)/g, x => x.toUpperCase());\n                    setCurrentBook(val.trim() == \"\" ? null : val);\n                }} style={{fontWeight: '700', textTransform: 'capitalize'}} />    <br/>\n                <br/></> }\n              \n                {!currentBookEditable && <span style={{borderBottom: `1px solid ${btnBackgroundColor}`}}> Adding note to {currentBook}    <br/>\n               <br/></span> }\n                \n                Note Title : <Input type=\"text\" value={currentNoteTitle} onChange={(e)=>{\n                    let val = e.target.value.toString().toLowerCase().replace(/\\b(\\w)/g, x => x.toUpperCase());\n                    setCurrentNoteTitle(val.trim() == \"\" ? null : val);\n                }} style={{fontWeight: '700', textTransform: 'capitalize'}} />\n                <br/>\n                <br/>\n                { !editorLoaded && <><SyncOutlined spin />&nbsp; &nbsp; Loading editor ...<br/><br/></>}\n                <Editor  \n                  onInit={(evt, editor) => editorRef.current = editor}\n                  initialValue={currentNoteBody}\n                  onChange={(e)=>{\n                    console.log(noteHTMLCharacterLimit);\n                    if(editorRef.current.getContent().length > noteHTMLCharacterLimit){\n                      document.getElementById('word_limit_reached').style.display = 'block';\n                    } else {\n                      document.getElementById('word_limit_reached').style.display = 'none';\n                    }\n                  }}\n                  onLoadContent={()=>{\n                    // alert(\"FAFAFAF\");\n                     setEditorLoaded(true);\n                   }}\n                   init={{ \n                    init_instance_callback: function (editor) {\n                      document.querySelector('.tox-statusbar__wordcount').click();   \n                   },\n                    selector: 'textarea#full-featured',\n                    plugins: 'print preview powerpaste casechange importcss tinydrive searchreplace autolink autosave save directionality advcode visualblocks visualchars fullscreen image link media mediaembed template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists checklist wordcount tinymcespellchecker a11ychecker imagetools textpattern noneditable help formatpainter permanentpen pageembed charmap tinycomments mentions quickbars linkchecker emoticons advtable export',\n                    tinydrive_token_provider: 'URL_TO_YOUR_TOKEN_PROVIDER',\n                    tinydrive_dropbox_app_key: 'YOUR_DROPBOX_APP_KEY',\n                    tinydrive_google_drive_key: 'YOUR_GOOGLE_DRIVE_KEY',\n                    tinydrive_google_drive_client_id: 'YOUR_GOOGLE_DRIVE_CLIENT_ID',\n                    tinydrive_max_image_dimension: 100,\n\n                    mobile: {\n                      plugins: 'print preview powerpaste casechange importcss tinydrive searchreplace autolink autosave save directionality advcode visualblocks visualchars fullscreen image link media mediaembed template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists checklist wordcount tinymcespellchecker a11ychecker textpattern noneditable help formatpainter pageembed charmap mentions quickbars linkchecker emoticons advtable'\n                    },\n                    menu: {\n                      tc: {\n                        title: 'Comments',\n                        items: 'addcomment showcomments deleteallconversations'\n                      }\n                    }, \n                    height: 500,\n\n                    menubar: false,\n                    toolbar: 'undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist checklist | forecolor backcolor casechange permanentpen formatpainter removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media pageembed template link anchor codesample | a11ycheck ltr rtl | showcomments addcomment',\n                    autosave_ask_before_unload: true,  \n                    autosave_restore_when_empty: false,\n                    autosave_retention: '2m',\n                    image_advtab: true,  \n                    importcss_append: true,\n                    templates: [\n                          { title: 'New Table', description: 'creates a new table', content: '<div class=\"mceTmpl\"><table width=\"98%%\"  border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><th scope=\"col\"> </th><th scope=\"col\"> </th></tr><tr><td> </td><td> </td></tr></table></div>' },\n                      { title: 'Starting my story', description: 'A cure for writers block', content: 'Once upon a time...' },\n                      { title: 'New list with dates', description: 'New List with dates', content: '<div class=\"mceTmpl\"><span class=\"cdate\">cdate</span><br /><span class=\"mdate\">mdate</span><h2>My List</h2><ul><li></li><li></li></ul></div>' }\n                    ],\n                    template_cdate_format: '[Date Created (CDATE): %m/%d/%Y : %H:%M:%S]',\n                    template_mdate_format: '[Date Modified (MDATE): %m/%d/%Y : %H:%M:%S]', \n                    image_caption: true,\n                    quickbars_selection_toolbar: 'bold italic | quicklink h2 h3 blockquote quickimage quicktable',\n                    noneditable_noneditable_class: 'mceNonEditable',\n                    toolbar_mode: 'sliding',\n                    spellchecker_ignore_list: ['Ephox', 'Moxiecode'],\n                    tinycomments_mode: 'embedded',\n                    content_style: 'body {font-weight: 300; font-size:14px;}',\n                    contextmenu: 'link image imagetools table configurepermanentpen',\n                    a11y_advanced_options: true, \n                    /*\n                    The following settings require more configuration than shown here.\n                    For information on configuring the mentions plugin, see:\n                    https://www.tiny.cloud/docs/plugins/premium/mentions/.\n                    */ \n                    mentions_item_type: 'profile',\n                  }}\n                />  \n              </div> \n            }\n\n            {\n                !edit && currentNoteId && <><Viewer close={closeViewer} loading={loadingNoteBody} rawHtmlBody={currentNoteBody} noteId={currentNoteId} title={currentNoteTitle} bookTitle={currentBook}/></>\n            }\n            {\n                !currentNoteId && currentNoteId != \"\" && <div align=\"center\" style={{paddingTop: '20px'}}><img id=\"notes-hero\" src={noteMaker} style={{width: '40%', border: '0px solid black'}} alt=\"noteMaker\" />\n                <br/>\n                <br/>\n                <br/>  \n                <ButtonPrimary styl={{fontSize: '15px'}} id=\"new-collection\" text={<span> <PlusCircleOutlined /> New collection </span>} onClick={(e)=>{ \n                  document.getElementById(\"new-collection\").style.transform = 'translate(1000px, 0px)';\n                  document.getElementById(\"notes-hero\").style.transform = 'translate(0px, -1000px)';\n                  setTimeout(()=>{\n                    setCurrentBook(null); setNewNoteWindow(true); setCurrentNoteId(\"\"); setCurrentNoteTitle('Sample note title'); setCurrentNoteBody(\"<p>This is the first note of this collection, you can delete it later\"); \n\n                  }, 500);\n    }}></ButtonPrimary> \n                <br/>\n                <br/>\n                <br/>\n                <br/> \n                </div>\n            }\n             \n        </Col>\n\n\n\n\n\n\n\n\n\n\n        \n        <Col style={{overflowY: 'auto', height: '75vh'}} xs={{span: 0}} md={{span: 6}} align=\"center\">\n            \n        {!edit && !newNoteWindow && <div align=\"left\"><h3 style={{color: btnBackgroundColor}} align=\"left\">{Object.keys(notes? notes : {}).length !== 0 ? \"Collections\" : \"Collections will be shown here\"}</h3> \n        \n        <br/> \n        <Collapse style={{fontWeight: '700', width: 'auto',  border: '0px', display: 'inline'}} defaultActiveKey={['0']} onChange={()=>{}} align=\"left\">\n            {\n                notes ? Object.keys(notes).length !== 0 ? Object.keys(notes).map((Key, i) => {\n                    return notes[Key].find(x => x.deleted !== true) ? <Collapse.Panel style={{border: `0px solid silver`, borderBottom: '0px'}} header={Key} key={i}>\n                        <div align=\"left\">\n        <Button type=\"link\" style={{border: `0px solid ${btnBackgroundColor}`, color: 'black'}} onClick={()=>{setNewNoteWindow(true); setCurrentNoteId(\"\"); setCurrentBook(Key); setCurrentNoteTitle('type here'); setCurrentBookEditable(false);}}><span> \n            <span onMouseOver={()=>{\n           // document.getElementById('addMoreNotes').style.display = 'inline';\n        }}\n        onMouseOut={()=>{\n           // document.getElementById('addMoreNotes').style.display = 'none';\n        }}\n        ><PlusCircleOutlined /> Add more</span> &nbsp; </span></Button>\n<br/> \n                        {\n                            notes[Key].map(note => {\n                                return    <> \n                                <Button align=\"left\" title={note.noteTitle} style={{maxWidth: '70%', color: btnBackgroundColor,\n                                overflow: 'hidden', textOverflow: 'ellipsis'}} onClick={()=>{\n                                    // fetch note and set the variables in state with the returned data\n                                  \n                                    console.log(Key.toString(), note.noteId, note.noteTitle);\n                                    setCurrentBook(Key.toString()); setCurrentNoteTitle(note.noteTitle); setCurrentNoteId(note.noteId);\n                                }} type=\"link\">{note.noteTitle}</Button> \n                                &nbsp;\n                                {\n                                    currentNoteId === note.noteId && <><EditOutlined  title=\"edit\"  onClick={()=>{\n                                        // setCurrentBook(Key.toString()); setCurrentNoteTitle(note.noteTitle); setCurrentNoteId(note.noteId); setCurrentNoteBody(\"lolpoo\");\n                                        setEdit(true);\n                                        setCurrentBookEditable(false);\n                                    }}/>\n                                &nbsp;\n                                &nbsp;\n\n                                    <DeleteOutlined title=\"delete\" style={{fontSize:''}} onClick={()=>{\n                                        setDeleteNoteProcess(true);\n                if(window.confirm(\"Are you sure you want to delete this note?\")){\n                    axios.put(API_BASE+ '/api/notes/deleteNote', { \n                        \"authorId\": localStorage.getItem('bitsjoy_userId'), \n                        \"bookTitle\": currentBook,\n                        \"noteId\": currentNoteId\n                      },\n                      {\n                        headers : {\n                            'Authorization' : localStorage.getItem(bearer_token_key),\n                            'Content-Type': 'application/json'\n                        }\n                      }).then((res)=>{\n                        console.log(res);\n                        setDeleteNoteProcess(false);\n                        window.location.reload();\n                   // setUpdatingNoteProcess(false);\n                      }).catch(err => {  \n                        toast.error(err.message);\n                    // setUpdatingNoteProcess(false);\n                    setDeleteNoteProcess(false);\n                \n                      })\n                }\n            }}/> {\n                deleteNoteProcess ? <SyncOutlined spin /> : null\n            }\n                                    </>\n                                 }\n                                 <br/>\n                                {/* <DeleteOutlined style={{position: 'absolute', right: '5px'}}/> */}\n                                </> \n                            })\n                        }\n\n\n                        </div>\n                    </Collapse.Panel> : null\n                }) : \"\" : <SyncOutlined spin />\n            }\n    </Collapse></div>}\n\n    {\n        edit && <><br/><ButtonPrimary disabledCondition={currentBook == null || currentNoteTitle == null} styl={{width: '70%'}} onClick={updateNote} text={updatingNoteProcess ? 'loading' : 'Update'}></ButtonPrimary>\n        <br/>\n<br/>\n<Button type=\"link\" onClick={()=>{ \n  window.scrollTo(0,0);\n     window.location.reload();\n}} style={{color: btnBackgroundColor}}><StepBackwardOutlined /> Back to library</Button></>\n    }\n\n{\n        newNoteWindow && <><br/><ButtonPrimary disabledCondition={currentBook == null || currentNoteTitle == null} styl={{width: '70%'}} onClick={saveNote} text={savingNoteProcess ? 'loading' : 'Save'}></ButtonPrimary>\n<br/>\n<br/>\n<Button type=\"link\" onClick={()=>{ \n  window.scrollTo(0,0);\n\n  window.location.reload();\n}} style={{color: btnBackgroundColor}}><StepBackwardOutlined /> Back to library</Button>\n\n\n</>\n    }\n        </Col>\n\n\n\n\n\n\n\n\n\n\n        <Col style={{overflowY: 'auto', height: '75vh'}} xs={{span: 24}} md={{span: 0}} align=\"left\">\n        {!edit && !newNoteWindow && <div align=\"left\"><h3 style={{color: btnBackgroundColor}} align=\"left\">{Object.keys(notes? notes : {}).length !== 0 ? \"Collections\" : \"Collections will be shown here\"}</h3> \n        \n        <br/> \n        <Collapse style={{fontWeight: '700', width: 'auto',  border: '0px', display: 'inline'}} defaultActiveKey={['0']} onChange={()=>{}} align=\"left\">\n            {\n                notes ? Object.keys(notes).length !== 0 ? Object.keys(notes).map((Key, i) => {\n                    return notes[Key].find(x => x.deleted !== true) ? <Collapse.Panel style={{border: `0px solid silver`, borderBottom: '0px'}} header={Key} key={i}>\n                        <div align=\"left\">\n        <Button type=\"link\" style={{border: `0px solid ${btnBackgroundColor}`, color: 'black'}} onClick={()=>{setNewNoteWindow(true); setCurrentNoteId(\"\"); setCurrentBook(Key); setCurrentNoteTitle('type here'); setCurrentBookEditable(false);}}><span> \n            <span onMouseOver={()=>{\n           // document.getElementById('addMoreNotes').style.display = 'inline';\n        }}\n        onMouseOut={()=>{\n           // document.getElementById('addMoreNotes').style.display = 'none';\n        }}\n        ><PlusCircleOutlined /> Add more</span> &nbsp; </span></Button>\n<br/> \n                        {\n                            notes[Key].map(note => {\n                                return    <> \n                                <Button align=\"left\" title={note.noteTitle} style={{maxWidth: '70%', color: btnBackgroundColor,\n                                overflow: 'hidden', textOverflow: 'ellipsis'}} onClick={()=>{\n                                    // fetch note and set the variables in state with the returned data\n                                  \n                                    console.log(Key.toString(), note.noteId, note.noteTitle);\n                                    setCurrentBook(Key.toString()); setCurrentNoteTitle(note.noteTitle); setCurrentNoteId(note.noteId);\n                                }} type=\"link\">{note.noteTitle}</Button> \n                                &nbsp;\n                                {\n                                    currentNoteId === note.noteId && <><EditOutlined  title=\"edit\"  onClick={()=>{\n                                        // setCurrentBook(Key.toString()); setCurrentNoteTitle(note.noteTitle); setCurrentNoteId(note.noteId); setCurrentNoteBody(\"lolpoo\");\n                                        setEdit(true);\n                                    }}/>\n                                &nbsp;\n                                &nbsp;\n\n                                    <DeleteOutlined title=\"delete\" style={{fontSize:''}} onClick={()=>{\n                                        setDeleteNoteProcess(true);\n                if(window.confirm(\"Are you sure you want to delete this note?\")){\n                    axios.put(API_BASE+ '/api/notes/deleteNote', { \n                        \"authorId\": localStorage.getItem('bitsjoy_userId'), \n                        \"bookTitle\": currentBook,\n                        \"noteId\": currentNoteId\n                      },\n                      {\n                        headers : {\n                            'Authorization' : localStorage.getItem(bearer_token_key),\n                            'Content-Type': 'application/json'\n                        }\n                      }).then((res)=>{\n                        console.log(res);\n                        setDeleteNoteProcess(false);\n                        window.location.reload();\n                   // setUpdatingNoteProcess(false);\n                      }).catch(err => {  \n                        toast.error(err.message);\n                    // setUpdatingNoteProcess(false);\n                    setDeleteNoteProcess(false);\n                \n                      })\n                }\n            }}/> {\n                deleteNoteProcess ? <SyncOutlined spin /> : null\n            }\n                                    </>\n                                 }\n                                 <br/>\n                                {/* <DeleteOutlined style={{position: 'absolute', right: '5px'}}/> */}\n                                </> \n                            })\n                        }\n\n\n                        </div>\n                    </Collapse.Panel> : null\n                }) : \"\" : <SyncOutlined spin />\n            }\n    </Collapse></div>}\n\n\n          </Col>\n\n\n\n\n\n\n<Row>\n        <Col xs={{span: 24}} md={{span: 0}} align=\"center\">\n            <div style={{position: 'fixed', bottom: '10px', right: '20px'}}>\n            {\n        edit && <><ButtonPrimary styl={{width: '100%'}} onClick={updateNote} text={updatingNoteProcess ? 'loading' : 'Update'}></ButtonPrimary>\n        \n</>\n    }\n\n{\n        newNoteWindow && <>\n        \n        <ButtonPrimary style={{display: 'inline'}}  styl={{width: '100%'}} onClick={saveNote} text={savingNoteProcess ? 'loading' : 'Save'}></ButtonPrimary>\n\n\n\n\n</>\n    }\n            </div>\n\n            <div style={{position: 'fixed', bottom: '10px', left: '20px'}}>\n\n{ edit &&  <Button type=\"link\" onClick={()=>{ \n  window.scrollTo(0,0);\n     window.location.reload();\n}} style={{color: btnBackgroundColor}}><StepBackwardOutlined /> Close</Button>}\n\n\n\n           \n\n            {\n        newNoteWindow && <>\n        <Button type=\"link\" onClick={()=>{ \n  window.scrollTo(0,0);\n\n  window.location.reload();\n}} style={{color: btnBackgroundColor, padding: '0px'}}><StepBackwardOutlined /> Close</Button>\n   \n\n\n</>\n    }\n            </div>\n</Col>\n</Row>\n      </Row>\n      : userHasAccess === false ? \n      <div>\n        <Fee />\n      </div> : <span style={{width: '100%', position: 'relative', top: '37vh'}}><SyncOutlined spin style={{fontSize: '25px'}} /></span>\n  }\n\n<Modal title=\"Share with\" visible={share} onOk={()=>{}} onCancel={()=>{setShare(false)}}\n\nfooter={[\n  <Button key=\"back\" onClick={() => {setShare(false);}}>\n    Cancel\n  </Button>,\n   \n]}>\n\n       Enter Email :\n       <Input value={shareWithEmail} onChange={(e)=>{\n        setShareWithEmail(e.target.value);\n       }} id=\"shareWithEmail\" type=\"email\" ></Input>\n\n<br/>\n          \n       <ButtonPrimary text={sharing ? <SyncOutlined spin /> : 'Share' } onClick={()=>{\n        let k = document.getElementById('shareWithEmail').value;\n        if(k.includes('@') && k.includes('.') && !k.trim().includes(' ')){\n        setSharing(true);\n\n        // let currentShareWith = shareWith;\n        // if(!currentShareWith.includes(k)){ \n        setShareWithEmail(\"\");\n\n        axios.put(API_BASE + '/api/notes/updateNoteAccessibleTo', {\n          noteId: currentNoteId,\n          authorId: localStorage.getItem('bitsjoy_userId'),\n          list: [k]\n      },{\n          headers : {\n              'Authorization' : localStorage.getItem(bearer_token_key),\n              'Content-Type': 'application/json'\n          }\n      }).then((res)=>{\n        console.log(res.data);\n        setShare(false);\n        toast.success('Shared successfully');\n        setSharing(false); \n    \n        //  alert(res.data.body);\n      }).catch((err)=>{\n          toast.error(err.response.data.message);\n          setSharing(false); \n    \n    \n    \n      })\n        // }\n        } else {\n          toast.error('Please provide a valid email');\n        }\n        }}>\n        </ButtonPrimary>\n        \n      </Modal>\n    </> \n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}